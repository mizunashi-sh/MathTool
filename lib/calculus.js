function typeChoiceListener(){var e=document.getElementById("typeSelect");var c=document.getElementById("secondPointZone");if(e.value=="1"){var a=document.getElementById("firstPointLabel");a.innerText="Point";c.removeChild(document.getElementById("secondPointLabel"));c.removeChild(document.getElementById("secondPointInput"))}else{if(e.value=="2"){var a=document.getElementById("firstPointLabel");a.innerText="Start Point";var b=document.createElement("label");b.innerText="End Point";b.id=("secondPointLabel");var d=document.createElement("input");d.setAttribute("type","text");d.setAttribute("class","form-control");d.id="secondPointInput";c.appendChild(b);c.appendChild(d)}}}function advancedOptionsListener(){var d=document.getElementById("advancedOptions");var a=document.getElementById("advancedInputZone");if(d.checked){var c=document.createElement("label");var b=document.createElement("input");c.id="advancedInputLabel";c.innerText="Error Limitation";c.setAttribute("type","text");b.setAttribute("class","form-control");b.id="errorLimitation";a.appendChild(c);a.appendChild(b)}else{a.removeChild(document.getElementById("advancedInputLabel"));a.removeChild(document.getElementById("errorLimitation"))}}function calculusCalculate(){document.getElementById("resultOutput").value="";if(document.getElementById("invalidMessageText")){var e=document.getElementById("invalidMessageZone");e.removeChild(document.getElementById("invalidMessageText"))}var d=document.getElementById("typeSelect").value;var f=document.getElementById("expressionInput").value;var a=document.getElementById("variableInput").value;if(d=="1"){var g=document.getElementById("advancedOptions");var c=document.getElementById("pointInput").value;if(g.checked){var h=document.getElementById("errorLimitation").value;differentialCalculate(f,a,c,h)}else{differentialCalculate(f,a,c)}}else{if(d=="2"){var g=document.getElementById("advancedOptions");var b=document.getElementById("pointInput").value;var i=document.getElementById("secondPointInput").value;if(g.checked){var h=document.getElementById("errorLimitation").value;integrationCalculate(f,a,b,i,h)}else{integrationCalculate(f,a,b,i)}}}}function differentialCalculate(){try{var j;var k=arguments[0];var b=arguments[1];var l=arguments[2];if(arguments.length==3){j=0.000001}else{if(arguments.length==4){j=parseFloat(arguments[3])}}const a=math.parser();a.evaluate("f("+b+")="+k);var d=1;var h=(a.evaluate("f("+(parseFloat(l)+d)+")")-a.evaluate("f("+l+")"))/d;d=d/2;var f=(a.evaluate("f("+(parseFloat(l)+d)+")")-a.evaluate("f("+l+")"))/d;while(Math.abs(h-f)>=j){h=f;d=d/2;f=(a.evaluate("f("+(parseFloat(l)+d)+")")-a.evaluate("f("+l+")"))/d}document.getElementById("resultOutput").value=f.toFixed(7)}catch(i){var g=document.getElementById("invalidMessageZone");var c=document.createElement("p");c.innerText="It seems that what you input is invalid. Try again.";c.setAttribute("style","color:#EB6864;font-size:15px");c.id="invalidMessageText";g.appendChild(c)}}function integrationCalculate(){try{var p;var q;var s=arguments[0];var c=arguments[1];var d=arguments[2];var r=arguments[3];var n=parseFloat(r)-parseFloat(d);if(arguments.length==4){p=0.000001}else{if(arguments.length==5){p=parseFloat(arguments[4])}}const b=math.parser();b.evaluate("f("+c+")="+s);var j;var a=new Array();a[0]=0;a[0]+=b.evaluate("f("+d+")")*n/2;a[0]+=b.evaluate("f("+r+")")*n/2;for(var g=2;;g++){j=new Array();for(var l=0;l<a.length;l++){j[l]=a[l]}a=new Array();var t=0;for(var l=1;l<=Math.pow(2,g-2);l++){t+=(n/Math.pow(2,g-2))*b.evaluate("f("+(parseFloat(d)+(2*l-1)*n/Math.pow(2,g-1))+")")}a[0]=(j[0]+t)/2;for(var l=1;l<g;l++){a[l]=a[l-1]+(a[l-1]-j[l-1])/(Math.pow(4,l)-1)}q=a[g-1];if(Math.abs(a[g-1]-j[g-2])<p){break}}document.getElementById("resultOutput").value=q.toFixed(7)}catch(o){var m=document.getElementById("invalidMessageZone");var f=document.createElement("p");f.innerText="It seems that what you input is invalid. Try again.";f.setAttribute("style","color:#EB6864;font-size:15px");f.id="invalidMessageText";m.appendChild(f)}};